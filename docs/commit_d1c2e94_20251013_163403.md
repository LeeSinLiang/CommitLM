# Documentation for Commit d1c2e94

**Commit Hash:** d1c2e94becf92445d27c00b84c11b9b63bdca107
**Commit Message:** feat(cli): add commit message and doc generation tests
**Generated:** Mon Oct 13 16:34:26 EDT 2025
**Repository:** CommitLM

---

Here is the documentation for the provided git diff.

***

## Documentation: Enhanced Validation for Generation Tasks

### 1. Summary

This update significantly enhances the `commitlm validate` command to provide a more comprehensive and robust health check of the system's configuration. The command now actively tests the AI-powered generation capabilities for both commit messages and documentation, in addition to the existing API connection test. This allows developers to verify their entire setup, including task-specific model configurations, before use.

### 2. Changes

#### a. Task-Specific Generation Testing

The `validate` command has been extended to perform live generation tests for core features:

*   **Commit Message Generation:** If `commit_message.enabled` is `true` in the configuration, the validator will now attempt to generate a sample commit message using a predefined test diff.
*   **Documentation Generation:** Similarly, if `doc_generation.enabled` is `true`, the validator will test the documentation generation functionality.

The results are displayed clearly in the validation table, with one of three statuses:
*   `✅`: The generation test was successful.
*   `❌`: The generation failed, with an error message provided.
*   `⚠️`: The feature is disabled in the configuration.

#### b. Task-Specific Model Reporting

The validation output is now more informative. If you have configured a specific model or provider for a task (e.g., using a different model for documentation than for commit messages), the `validate` command will use that specific model for the test and display its name in the output.

**Example Output Snippet:**
```
[cyan]openai/gpt-4o:[/cyan] feat: Add hello world script
```

#### c. UI Clarification

The label for the general model check has been updated from "Model Connection" to "**Default model**" for improved clarity.

### 3. Impact

These changes provide a more reliable and user-friendly validation process.

*   **Proactive Configuration Verification:** Developers can now run a single command to confirm that their entire configuration—from API keys to model access and task-specific settings—is working correctly end-to-end.
*   **Improved Debugging:** Failures are now easier to diagnose. A failed "Commit Message Generation" test, for example, points directly to an issue with the model or settings for that specific task, rather than a general connection problem.

### 4. Usage

To use the enhanced validation, simply run the `validate` command. No additional arguments are required.

**Command:**
```bash
commitlm validate
```

**Example Output:**

The output table will now include rows for the new generation checks, providing a complete overview of your system's status.

```
$ commitlm validate

 ╭───────────────────────────── Validation Results ─────────────────────────────╮
 │ Check                       │ Status │ Details                                │
 ├─────────────────────────────┼────────┼────────────────────────────────────────┤
 │ Config File                 │ ✅     │ Loaded from: /path/to/.commitlm.yaml   │
 │ Default model               │ ✅     │ Default model: gpt-4o                  │
 │ Test Response               │ ✅     │ Test successful.                       │
 │ Commit Message Generation   │ ✅     │ [cyan]openai/gpt-4o:[/cyan] feat: Add… │
 │ Documentation Generation    │ ⚠️     │ Disabled                               │
 │ Output Directory            │ ✅     │ Exists: docs/generated                 │
 ╰─────────────────────────────┴────────┴────────────────────────────────────────╯
```

### 5. Breaking Changes

None. This is an additive enhancement to an existing command and does not introduce any breaking changes.

### 6. Migration Notes

None. No action is required from users to benefit from these improvements.