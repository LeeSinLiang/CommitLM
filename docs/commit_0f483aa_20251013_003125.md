# Documentation for Commit 0f483aa

**Commit Hash:** 0f483aad802838ab1a96690d0def30ed807f7a6c
**Commit Message:** docs: Update README with enhanced features and configuration options
**Generated:** Mon Oct 13 00:31:55 EDT 2025
**Repository:** CommitLM

---

This update significantly enhances CommitLM, transforming it into a comprehensive "AI-Native Git Documentation & Commit Messages" tool. The core expansion introduces automated conventional commit message generation, complementing the existing post-commit documentation. A major new feature is multi-provider support, allowing users to choose between local HuggingFace models and cloud APIs like Google Gemini, Anthropic Claude, and OpenAI GPT, with flexible task-specific model assignments and fallback options. The configuration and installation processes have been refined for a more intuitive user experience, including a new `git alias` for streamlined commits.

## Changes

*   **Core Functionality Expansion**:
    *   **Automated Commit Messages**: A new `prepare-commit-msg` Git hook now automatically generates conventional commit messages based on staged changes, pre-filling the commit editor.
    *   **Unified Git Hooks**: `commitlm install-hook` now installs both `prepare-commit-msg` and `post-commit` hooks, or users can install them individually (`message` or `docs`).
*   **Multi-Provider Support**:
    *   **Cloud API Integration**: Added support for Google Gemini, Anthropic Claude, and OpenAI GPT, allowing users to leverage powerful cloud models.
    *   **Flexible Model Selection**: Users can now select different providers and models for commit message generation and documentation tasks, and configure fallback to local models if API calls fail.
*   **Enhanced Configuration & Setup**:
    *   The `commitlm init` command features an interactive flow guiding users through provider, model, task, and fallback selections.
    *   Configuration now supports environment variables for API keys (`GEMINI_API_KEY`, `ANTHROPIC_API_KEY`, `OPENAI_API_KEY`).
*   **Improved Developer Workflow**:
    *   A new `commitlm set-alias` command creates a convenient `git c` alias for a one-command commit workflow (stage changes, generate message, commit).
*   **Local Model Enhancements**:
    *   **Apple Silicon Support**: Automatic detection and utilization of Apple's Metal Performance Shaders (MPS).
    *   **Extended Context (YaRN)**: Qwen models now support YaRN for up to 131K tokens, significantly improving handling of large diffs.

## Impact

*   **Streamlined Workflow**: Developers can now automate both commit message creation and documentation generation, significantly reducing manual effort and ensuring consistency.
*   **Increased Flexibility**: Choose between powerful cloud APIs for speed and capability, or local models for privacy and cost-effectiveness, tailored to specific tasks.
*   **Better Context Handling**: YaRN support for local models allows for more accurate documentation and commit messages for extensive code changes.
*   **Configuration Requirements**: Cloud API usage necessitates setting environment variables for API keys.

## Usage

1.  **Initialize Configuration**:
    ```bash
    commitlm init # Interactive setup for providers, models, tasks
    # Or non-interactive for specific providers:
    commitlm init --provider gemini --model gemini-2.0-flash-exp
    commitlm init --provider huggingface --model qwen2.5-coder-1.5b
    ```
    Set API keys for cloud providers in your shell profile (e.g., `export GEMINI_API_KEY="your-key"`).

2.  **Install Git Hooks**:
    ```bash
    commitlm install-hook # Installs both message and docs hooks (recommended)
    commitlm install-hook message # For commit message generation only
    commitlm install-hook docs    # For documentation generation only
    ```

3.  **Automated Commit Workflow**:
    ```bash
    git add .
    git commit # Editor opens with AI-generated message
    # Or use the new alias for a one-command commit:
    commitlm set-alias # Creates 'git c'
    git c # Stages, generates message, commits
    ```

## Breaking Changes

*   While no direct breaking changes to existing documentation generation functionality, the configuration file format (`.commitlm-config.json`) has been significantly updated.
*   Previous `commitlm init` commands and configurations for local models will still function but will not expose the new multi-provider or task-specific model options.

## Migration Notes

*   **Re-initialize**: It is highly recommended to run `commitlm init` again to configure the new provider, model, and task settings interactively. This will update your `.commitlm-config.json` to the new format.
*   **Set API Keys**: If you plan to use cloud APIs, ensure you set the respective environment variables (`GEMINI_API_KEY`, `ANTHROPIC_API_KEY`, `OPENAI_API_KEY`).
*   **Reinstall Hooks**: To leverage both automated commit messages and documentation, run `commitlm install-hook`.